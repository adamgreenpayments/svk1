import{S as a,i as s,s as e,v as t,w as n,x as r,t as l,b as o,y as i,z as $,l as c,I as m,d as u,A as d,m as f,p as g,a as p,E as h,P as v,Q as w,u as b,o as y,j as x,B as I,C as P,r as S}from"../chunks/index-2b079c53.js";import{B as j,L as E,S as k,g as M}from"../chunks/aws-add3e71f.js";import{c as A}from"../chunks/auth-d2666f70.js";import{T as U,i as B}from"../chunks/validation-4fe040bf.js";function L(a){let s,e;return s=new E({}),{c(){t(s.$$.fragment)},l(a){n(s.$$.fragment,a)},m(a,t){r(s,a,t),e=!0},i(a){e||(l(s.$$.fragment,a),e=!0)},o(a){o(s.$$.fragment,a),e=!1},d(a){i(s,a)}}}function R(a){let s;return{c(){s=I("Sign In")},l(a){s=P(a,"Sign In")},m(a,e){p(a,s,e)},d(a){a&&u(s)}}}function z(a){let s,e,y,x,I,P,E,k,M,A,B,z,C=a[3]&&L();return I=new U({props:{id:"email",label:"E-Mail",type:"email",valid:a[1],validityMessage:"Please enter a valid email address.",value:a[0]}}),I.$on("input",a[6]),E=new U({props:{id:"Password",label:"Password",type:"password",value:a[2],autocomplete:"on"}}),E.$on("input",a[7]),M=new j({props:{type:"submit",disabled:!a[4],$$slots:{default:[R]},$$scope:{ctx:a}}}),{c(){s=$(),e=c("main"),C&&C.c(),y=$(),x=c("form"),t(I.$$.fragment),P=$(),t(E.$$.fragment),k=$(),t(M.$$.fragment),this.h()},l(a){m('[data-svelte="svelte-1b10gp1"]',document.head).forEach(u),s=d(a),e=f(a,"MAIN",{});var t=g(e);C&&C.l(t),y=d(t),x=f(t,"FORM",{});var r=g(x);n(I.$$.fragment,r),P=d(r),n(E.$$.fragment,r),k=d(r),n(M.$$.fragment,r),r.forEach(u),t.forEach(u),this.h()},h(){document.title="Sign In"},m(t,n){p(t,s,n),p(t,e,n),C&&C.m(e,null),h(e,y),h(e,x),r(I,x,null),h(x,P),r(E,x,null),h(x,k),r(M,x,null),A=!0,B||(z=v(x,"submit",w(a[5])),B=!0)},p(a,[s]){a[3]?C?8&s&&l(C,1):(C=L(),C.c(),l(C,1),C.m(e,y)):C&&(S(),o(C,1,1,(()=>{C=null})),b());const t={};2&s&&(t.valid=a[1]),1&s&&(t.value=a[0]),I.$set(t);const n={};4&s&&(n.value=a[2]),E.$set(n);const r={};16&s&&(r.disabled=!a[4]),1024&s&&(r.$$scope={dirty:s,ctx:a}),M.$set(r)},i(a){A||(l(C),l(I.$$.fragment,a),l(E.$$.fragment,a),l(M.$$.fragment,a),A=!0)},o(a){o(C),o(I.$$.fragment,a),o(E.$$.fragment,a),o(M.$$.fragment,a),A=!1},d(a){a&&u(s),a&&u(e),C&&C.d(),i(I),i(E),i(M),B=!1,z()}}}function C(a,s,e){let t,n,r,l,o="",i="",$=!1;y((()=>{r=A.subscribe((a=>{l=a,console.log("signIn",{cognitoUser:l})}))})),x((()=>{r&&r()}));return a.$$.update=()=>{1&a.$$.dirty&&e(1,t=B(o)),2&a.$$.dirty&&e(4,n=t)},[o,t,i,$,n,async function(){e(3,$=!0);const a=new URLSearchParams(window.location.search);console.log("urlParams: ",a.getAll());const s=await k(o,i);A.setauthUser(s),e(3,$=!1),M("/")},a=>e(0,o=a.target.value),a=>e(2,i=a.target.value)]}export default class extends a{constructor(a){super(),s(this,a,C,z,e,{})}}
